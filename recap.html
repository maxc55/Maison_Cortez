<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Maison Cortez ‚Äî R√©capitulatif de votre commande</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Polices + style global -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Nunito:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">

  <style>
    .recap-wrap {
      max-width: 960px;
      margin: 0 auto;
      padding: 2.4rem 1.5rem 3rem;
    }

    .recap-card {
      background: var(--card);
      border-radius: 24px;
      padding: 2rem 1.8rem;
      border: 1px solid var(--border-soft);
      box-shadow:
        0 12px 32px rgba(0,0,0,0.9),
        0 0 0 1px rgba(0,0,0,0.7);
    }

    body.light .recap-card {
      background: var(--bg-soft);
      box-shadow:
        0 10px 26px rgba(0,0,0,0.07),
        0 0 0 1px rgba(0,0,0,0.04);
    }

    .recap-title {
      font-family: "Playfair Display", serif;
      font-size: 1.8rem;
      margin-bottom: 0.4rem;
    }

    .recap-subtitle {
      font-size: 0.95rem;
      color: var(--text-muted);
      margin-bottom: 1.4rem;
    }

    .recap-section-title {
      margin-top: 1.4rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.85rem;
      color: var(--accent);
    }

    .recap-list {
      margin-top: 0.6rem;
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.4rem 1.2rem;
      font-size: 0.9rem;
    }

    .recap-row {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }

    .recap-label {
      font-weight: 600;
      color: var(--text);
    }

    .recap-value {
      color: var(--text-muted);
      white-space: pre-wrap;
    }

    .recap-footer-note {
      margin-top: 1.8rem;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .back-link {
      display: inline-block;
      margin-top: 1.2rem;
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      border-bottom: 1px solid var(--accent);
      padding-bottom: 0.1rem;
    }
  </style>
</head>
<body>

  <!-- HEADER identique -->
  <header>
    <div class="header-inner">

      <!-- Gauche : logo cliquable -->
      <div class="header-left">
        <a href="index.html" class="header-link">
          <div class="logo" aria-hidden="true"></div>
        </a>
      </div>

      <!-- Centre : Maison Cortez cliquable -->
      <div class="header-center">
        <a href="index.html" class="header-link brand-name">
          Maison Cortez
        </a>
      </div>

      <!-- Droite : bouton mode -->
      <div class="header-right">
        <button id="modeBtn" type="button">‚òÄÔ∏è Jour</button>
      </div>

    </div>
  </header>

  <!-- MAIN -->
  <main>
    <div class="recap-wrap">
      <section class="recap-card">
        <h1 class="recap-title">Merci pour votre confiance.</h1>
        <p class="recap-subtitle" id="recap-intro">
          Nous avons bien re√ßu votre questionnaire. Voici un r√©capitulatif des informations transmises.
        </p>

        <div id="recap-container">
          <!-- Le r√©capitulatif sera inject√© ici en JavaScript -->
        </div>

        <p class="recap-footer-note">
          Vous recevrez un e-mail lorsque votre cr√©ation olfactive aura √©t√© analys√©e et pr√©par√©e.
          N‚Äôh√©sitez pas √† v√©rifier votre dossier ‚Äúcourriers ind√©sirables / spams‚Äù.
        </p>

        <a href="index.html" class="back-link">Retour √† l‚Äôaccueil</a>
      </section>
    </div>
  </main>

  <!-- FOOTER identique -->
  <footer>
    <div class="footer-inner">
      <a href="https://www.facebook.com/profile.php?id=61582519354960&mibextid=wwXIfr&rdid=sb3MgrSocv0ZsKba&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F16Vw4sa9Ad%2F%3Fmibextid%3DwwXIfr#" class="footer-icon">
        <img class="icon-facebook" src="facebook_noir.png" alt="Facebook">
      </a>
      <a href="https://www.instagram.com/maisoncortez.fragrance/" class="footer-icon">
        <img class="icon-instagram" src="instagram_noir.png" alt="Instagram">
      </a>
      <a href="mailto:info.maisoncortez@gmail.com" class="footer-icon">
        <img class="icon-mail" src="mail_noir.png" alt="Email">
      </a>
    </div>
    <div class="footer-copy">
      ¬© Maison Cortez ‚Äì Tous droits r√©serv√©s
    </div>
  </footer>

  <!-- Script : affichage du r√©cap √† partir du localStorage -->
  <script>
    const recapContainer = document.getElementById("recap-container");
    const recapIntro = document.getElementById("recap-intro");
    const raw = localStorage.getItem("mc_last_form");

    if (!raw) {
      recapIntro.textContent = "Aucune commande r√©cente n‚Äôa √©t√© trouv√©e sur cet appareil.";
      recapContainer.textContent = "";
    } else {
      const data = JSON.parse(raw);

      const labels = {
        _date_envoi: "Date de l‚Äôenvoi",
        nom: "Pr√©nom + Nom",
        email: "Adresse e-mail",
        date_naissance: "Date de naissance",
        genre: "Genre",
        adresse: "Adresse de r√©sidence actuelle",
        origines: "Origines culturelles et/ou g√©ographiques",
        profession: "Profession",
        type_peau: "Type de peau",
        couleur_peau: "Couleur de peau",
        ph_peau: "Type de peau (pH)",
        saison: "Saison pr√©f√©r√©e",
        moment: "Moments de la journ√©e pr√©f√©r√©s",
        mots_definissent: "Quelques mots qui vous d√©finissent",
        pays_coeur: "Pays / ville de c≈ìur",
        dernier_parfum: "Dernier parfum port√©",
        odeurs_enfance: "Odeurs d‚Äôenfance ou d‚Äôadolescence",
        odeur_souvenir_heureux: "Odeur li√©e √† un souvenir heureux",
        odeur_personne_chere: "Odeur li√©e √† une personne ch√®re",
        ingredient_famille: "Plante/fleur/ingr√©dient r√©current dans votre famille ou culture",
        saison_a_evoquer: "Saison ou p√©riode de vie √† √©voquer",
        emotion_souhaitee: "√âmotion souhait√©e en portant votre parfum",
        usage_parfum: "Usage du parfum",
        occasion: "Occasions li√©es √† la cr√©ation de ce parfum",
        aura: "Aura souhait√©e",
        famille_olfactive: "Famille olfactive souhait√©e",
        odeurs_a_eviter: "Odeurs / familles √† √©viter",
        couleur_associee: "Couleur associ√©e au parfum imagin√©",
        parfum_paysage: "Si votre parfum √©tait un paysage‚Ä¶",
        parfum_musique: "Si votre parfum √©tait un morceau de musique‚Ä¶",
        parfum_souvenir: "Si votre parfum √©tait un souvenir fig√©‚Ä¶",
        trois_mots: "Trois mots que vous voulez que les autres ressentent",
        idee_precise: "Id√©e pr√©cise du parfum imagin√©",
        matiere_premiere_souhaitee: "Mati√®re premi√®re / odeur √† int√©grer absolument",
        "parfums_aim√©s": "Parfums d√©j√† port√©s ou aim√©s",
        nom_parfum: "Nom de votre parfum personnalis√©",
        commentaire_final: "Autres pr√©cisions / message final",
        format: "Format choisi"
      };

      const sections = [
        {
          title: "Informations g√©n√©rales",
          keys: ["_date_envoi", "nom", "email", "date_naissance", "genre", "adresse", "pays_coeur"]
        },
        {
          title: "Peau & environnement",
          keys: ["type_peau", "couleur_peau", "ph_peau"]
        },
        {
          title: "Univers personnel",
          keys: ["origines", "profession", "saison", "moment", "mots_definissent", "dernier_parfum"]
        },
        {
          title: "Ancrage √©motionnel",
          keys: ["odeurs_enfance", "odeur_souvenir_heureux", "odeur_personne_chere", "ingredient_famille", "saison_a_evoquer", "emotion_souhaitee"]
        },
        {
          title: "Intention & style du parfum",
          keys: ["usage_parfum", "occasion", "aura", "famille_olfactive", "odeurs_a_eviter", "couleur_associee", "format"]
        },
        {
          title: "Visualisation cr√©ative",
          keys: ["parfum_paysage", "parfum_musique", "parfum_souvenir", "trois_mots"]
        },
        {
          title: "Derniers souhaits",
          keys: ["idee_precise", "matiere_premiere_souhaitee", "parfums_aim√©s", "nom_parfum", "commentaire_final"]
        }
      ];

      let html = "";

      sections.forEach(section => {
        let anyValue = false;
        let block = `<h2 class="recap-section-title">${section.title}</h2><div class="recap-list">`;

        section.keys.forEach(key => {
          let rawKey = key;
          let value = data[rawKey] || data[rawKey + "[]"];

          if (value && String(value).trim() !== "") {
            anyValue = true;
            block += `
              <div class="recap-row">
                <div class="recap-label">${labels[rawKey] || rawKey}</div>
                <div class="recap-value">${value}</div>
              </div>
            `;
          }
        });

        block += `</div>`;

        if (anyValue) {
          html += block;
        }
      });

      recapContainer.innerHTML = html;
    }
  </script>

  <!-- Script Jour / Nuit -->
  <script>
    const modeBtn = document.getElementById("modeBtn");

    modeBtn.addEventListener("click", () => {
      document.body.classList.toggle("light");

      if (document.body.classList.contains("light")) {
        modeBtn.textContent = "üåô Nuit";
      } else {
        modeBtn.textContent = "‚òÄÔ∏è Jour";
      }
    });
  </script>

</body>
</html>
